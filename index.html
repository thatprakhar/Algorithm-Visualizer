<html>
  <head>
    <style></style>
    <script>
      var num = 30;
      var rects = [];
      class rectangles {
        constructor(xPos, height, ctx, color) {
          this.xPos = xPos;
          this.height = height;
          this.width = 16;
          this.yPos = 500 - height;
          this.ctx = ctx;

          this.color = color;
        }
        draw() {
          this.ctx.beginPath();
          this.ctx.fillStyle = this.color;
          this.ctx.fillRect(this.xPos, this.yPos, this.width, this.height);
          this.ctx.stroke();
        }
      }
      function getRandomColor() {
        var letters = "0123456789ABCDEF";
        var color = "#";
        for (var i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
        }
        return color;
      }

      document.addEventListener("DOMContentLoaded", function() {
        var canvas = document.getElementById("canvas");
        var canvasHeight = 500;
        var canvasWidth = 1000;
        var ctx = canvas.getContext("2d");
        var width = 20;
        var height = 50;
        var xPos = 500;
        var yPos = 500 - height;

        var pos = 0;
        for (var i = 0; i < num; i++) {
          rects[i] = new rectangles(
            pos,
            Math.floor(Math.random() * 300),
            ctx,
            getRandomColor()
          );
          rects[i].draw();
          pos += 16;
        }

        var p = document.getElementById("p");
      });
      function pausecomp(millis) {
        var date = new Date();
        var curDate = null;
        do {
          curDate = new Date();
        } while (curDate - date < millis);
      }

      function bubbleSort() {
        var ctx = document.getElementById("canvas").getContext("2d");
        for (var i = 0; i < num - 1; i++) {
          for (var j = 0; j < num - 1 - i; j++) {
            if (rects[j].height > rects[j + 1].height) {
              console.log(
                "Swapped " + rects[j].height + " with " + rects[j + 1].height
              );

              var c = rects[j].color;
              rects[j].color = rects[j + 1].color;
              rects[j + 1].color = c;
              var y = rects[j].height;
              rects[j].height = rects[j + 1].height;
              rects[j + 1].height = y;
              rects[j].yPos = 500 - rects[j].height;
              rects[j + 1].yPos = 500 - rects[j + 1].height;

              ctx.fillStyle = "white";
              ctx.fillRect(0, 0, 1000, 500);
              for (var k = 0; k < num; k++) {
                rects[k].draw();
              }
              pausecomp(100);

              document.getElementById("lol").innerHTML = i;
            }
          }
        }
      }
    </script>
  </head>
  <body>
    <canvas id="canvas" width="1000" height="500"> </canvas>

    <button onclick="bubbleSort()">Bubble Sort</button>
    <button onclick="quickSort()">Quick Sort</button>
    <p id="lol"></p>
  </body>
</html>
